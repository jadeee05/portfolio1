<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Contact</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body class="contact-page">
  <div class="page-container">
    <header>
      <div class="header-flex">
        <div class="title-stack">
          <h1 class="main-title">JADE'S</h1>
          <p class="subtitle">FINALS PORTFOLIO</p>
        </div>
      </div>
      <nav>
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
      </nav>
    </header>

    <main class="zoom-in" style="animation-delay: 0.4s;">
      <section class="text">
        <h2>Contact Me</h2>
        <form id="contactForm" name="myForm">
          <input type="text" id="name" name="name" placeholder="Your Name" required>
          <input type="email" id="email" name="email" placeholder="Your Email" required>
          <textarea id="message" name="message" placeholder="Your Message" required></textarea>
          <button type="submit" id="submit" class="btn">Send</button>
        </form>
      </section>
    </main>

    <footer>
      <p>Â© Jade's portfolio</p>
    </footer>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const form = document.getElementById("contactForm");
      const scriptURL = 'https://script.google.com/macros/s/AKfycbzlrKAYRJ-CTa_bGDM-3LNHSh568Pu3u50wzr1NY7FnOn9zrfM5L_d-tNRkLTI0G1ST/exec';

      form.addEventListener("submit", function (event) {
        event.preventDefault();

        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const message = document.getElementById("message").value.trim();

        if (name !== "" && email !== "" && message !== "") {
          fetch(scriptURL, {
            method: 'POST',
            body: new FormData(form)
          })
            .then(response => {
              alert("Your message has been sent! It will be reviewed soon.");
              const sendAnother = confirm("Would you like to send another message?");
              if (sendAnother) {
                form.reset();
              } else {
                window.location.href = "index.html";
              }
            })
            .catch(error => {
              console.error('Error!', error.message);
              alert("Try again later.");
            });
        } else {
          alert("Please fill out all fields.");
        }
      });
    });

    function createSakura() {
      const petal = document.createElement('div');
      petal.classList.add('sakura');

      // start position
      petal.style.left = Math.random() * 100 + 'vw';
      petal.style.animationDuration = 5 + Math.random() * 5 + 's';
      petal.style.opacity = Math.random();

      // sizing
      const size = Math.random() * 15 + 15;
      petal.style.width = size + 'px';
      petal.style.height = size + 'px';

      document.body.appendChild(petal);

      // removes petals
      setTimeout(() => {
        petal.remove();
      }, 10000);
    }

    setInterval(() => {
      createSakura();
      createSakura();
    }, 300);
  </script>
</body>

</html>
